<!DOCTYPE html>
<html lang="en">

<head>

   <title>hbWUI Test Ajax Emulation</title>
   <meta charset="ISO-8859-1">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
   <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"></script>
   <!-- Latest compiled and minified CSS -->
   <link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">

   <!-- Latest compiled and minified JavaScript -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

</head>

<body onload="fillSelect();"> <!-- When page is loaded it call tunneling func to fill the select options -->

   <div class="container ">
      <h3>Test hbWUI Ajax Emulation</h3>
      </hr>
      <div class="col-12 col-md-3">
         <label for="select1" class="form-label">Source: Array</label>
         <select id="select1" class="selectpicker" data-style="btn-primary" data-live-search="true"
            title="Choose one..." data-width="auto">
         </select>
      </div>
      <div class="col-6">
         <label for="select2" class="form-label">Source: Server</label>
         <input type="text" class="form-control" id="select2" oninput="ajax()" name="select2"
            placeholder="ex: Charles, Chris, Irene,... " value="" autocomplete="off">
         <div id="ajaxData"></div>
      </div>
   </div>
   <script>

      // For tunneling function with returned value, the function must be async
      async function ajax() {
         
         // The tunneling function must be call with await if it return a value from harbour
         const res = await getData(document.getElementById("select2").value);
         document.getElementById("ajaxData").innerHTML = res;

      }

   </script>

</body>

</html>